{% extends "base.html" %}

{% block content %}
	<style>
		.post-grid {
			display: grid;
			/* Cria colunas flexíveis, cada uma com no mínimo 300px */
			grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
			gap: 25px; /* Espaçamento entre os cards */
		}
		.post-card {
			border: 1px solid #e0e0e0;
			border-radius: 8px;
			overflow: hidden; /* Garante que a imagem não passe da borda */
			display: flex;
			flex-direction: column;
			text-decoration: none;
			color: inherit;
			transition: transform 0.2s, box-shadow 0.2s;
		}
		.post-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 4px 15px rgba(0,0,0,0.1);
		}
		.post-card-img {
			width: 100%;
			height: 180px;
			object-fit: cover; /* Garante que a imagem cubra o espaço sem distorcer */
			background-color: #f0f0f0; /* Cor de fundo enquanto a imagem carrega */
		}
		.post-card-content {
			padding: 15px;
			flex-grow: 1; /* Faz o conteúdo ocupar o espaço restante */
		}
		.post-card-content h2 {
			font-size: 1.25rem;
			margin-top: 0;
			color: #333;
		}
		.post-card-info {
			font-size: 0.85rem;
			color: #666;
		}
	</style>

	<h1>Blog da Convexa</h1>
	<p>Artigos, tutoriais e novidades sobre Inteligência Artificial.</p>
	<hr style="margin-bottom: 2rem;">

	<div class="post-grid">
		{% for post in posts %}
			<a href="{% url 'post_detail' post.slug %}" class="post-card">
				<img src="{{ post.get_thumbnail_url }}" alt="{{ post.title }}" class="post-card-img">

				<div class="post-card-content">
					<h2>{{ post.title }}</h2>
					<p class="post-card-info">
						Por {{ post.author }} em {{ post.publication_date|date:"d/m/Y" }}
					</p>
				</div>
			</a>
		{% empty %}
			<p>Ainda não há posts no blog.</p>
		{% endfor %}
	</div>
{% endblock %}